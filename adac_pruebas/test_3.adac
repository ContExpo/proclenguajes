procedure calculadora is

integer a, b, z, i;
integer arrPrueba[4];

--Utilizamo este programa para comprobar los varios tipos de pasos de parametros y las llamadas recursivas 
    
	procedure sum(val integer x, y; ref integer result ) is 
        integer z;
    begin 
        z :=x+y;
        put_line("El valor ", result, " se ha puesto en Z");
    end

    function integer diff(ref integer x, y) is 
        integer z;
    begin 
        z :=x+y;
        put_line("El resultado es ", z);
        return z; 
    end

    procedure swap(ref integer x, y) is
        
        integer z;

    begin
        z :=x;
        x :=y;
        y :=z;
    end

	procedure sumArrayVal(val integer arr[4] ) is
		integer sum;
		integer i;
	begin
		sum := 0;
		i := 0;
		while i<4 do
			sum := sum + arr[i];
			i := i+1;
		end
	end

	procedure sumArrayRef(ref integer arr[4] ) is
		integer sum;
		integer i;
	begin
		sum := 0;
		i := 0;
		while i<4 do
			sum := sum + arr[i];
			arr[i] := 0;
			i := i+1;
		end
	end


--------------------------------------------------
    begin
        a := 10;
        b := 5;
		i := 0;

		while (i<4) do
			arrPrueba[i] := i;
			i := i+1;
		end

        sum(a,b,z);
        put_line("Main-sum: El resultado es ", z);
        diff(a,b);
        put_line("Main-sub: El resultado es ", z);
        put_line("A y B antes del swap", a, "  " ,b);
        swap(a,b);
        put_line("A y B despues del swap", a, "  " ,b);
		sumArrayVal(arrPrueba);
		sumArrayRef(arrPrueba);
		put_line("Array de prueba despues del sumArrayRef (deberÃ¬a ser lleno de 0):");
		while (i<4) do
			put("    ", arr[i]);
			i := i+1;
		end
    end